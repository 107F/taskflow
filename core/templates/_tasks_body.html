<!-- 
    Developed by Stefania Galatolo, assisted by ChatGPT 4. 
    In this collaboration, ChatGPT helped Stefania keep things organized and smoothâ€”because let's face it, 
    even with all that CS50 knowledge, things can get messy! 
-->

<!-- 
    tasks-wrapper: This wrapper contains the main task management table.
    The table displays all tasks retrieved from the backend and rendered dynamically using Flask's Jinja templating engine.
    Pagination buttons are generated by JavaScript and placed in the paginationContainer div.
    
    Inputs: 
    - Task data is provided by Flask as a list of task objects.
    - The task data includes attributes like task_id, pos_id, pos_name, task_status, etc.
    
    Outputs:
    - A dynamic table displaying the tasks, with support for pagination and responsiveness.
    - The JavaScript file 'tasksLookup.js' handles pagination and potentially other dynamic interactions.
-->
<div class="tasks-wrapper">
    <h2 class="mt-0">Tasks</h2>

    <!-- Pagination Controls -->
    <!-- Pagination controls are generated dynamically through JavaScript -->
    <div id="paginationContainer" class="pagination-container mt-3">
        <!-- Pagination buttons will be dynamically inserted here by the JavaScript -->
    </div>

    <!-- Table containing task details -->
    <!-- The table is populated dynamically using data provided by Flask (Jinja templating) -->
    <div class="table-responsive">
        <table class="table table-striped mt-3">
            <thead>
                <tr>
                    <!-- Columns are task attributes such as Task ID, POS ID, Name, etc. -->
                    <th>Task ID</th>
                    <th>POS ID</th>
                    <th>POS Name</th>
                    <th>Rec. Date</th>
                    <th>Certified</th>
                    <th>Task Desc.</th>
                    <th>Status</th>
                    <th>Priority</th>
                    <th>Blockers Desc.</th>
                    <th>Blockers Resp</th>
                    <th>Start Date</th>
                    <th>Due Date</th>
                    <th class="notes-column">Notes</th>
                </tr>
            </thead>
            <tbody id="taskTableBody">
                <!-- Task rows are dynamically generated by Flask's Jinja templating system -->
                {% for task in tasks %}
                <tr>
                    <td>{{ task.task_id }}</td>
                    <td>{{ task.pos_id }}</td>
                    <td>{{ task.pos_name }}</td>
                    <td>{{ task.rec_date }}</td>
                    <td>{{ task.rec_certified }}</td>
                    <td>{{ task.task_desc }}</td>
                    <td>{{ task.task_status }}</td>
                    <td>{{ task.task_priority }}</td>
                    <td>{{ task.blocker_desc }}</td>
                    <td>{{ task.blocker_responsible }}</td>
                    <td>{{ task.task_start_date }}</td>
                    <td>{{ task.task_due_date }}</td>
                    <td>{{ task.task_notes }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- 
    This script tag references the tasksLookup.js file located in the static/js/ folder.
    This JavaScript file is responsible for handling dynamic table updates, such as pagination, sorting, and filtering.
-->
<script src="{{ url_for('static', filename='js/tasksLookup.js') }}"></script>
